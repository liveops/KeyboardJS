!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.keyboardJS=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var KeyboardJS=require("./lib/keyboard"),Locale=require("./lib/locale"),KeyCombo=require("./lib/key-combo"),usLocale=require("./locales/us"),keyboardJS=new KeyboardJS;keyboardJS.setLocale(usLocale),exports=module.exports=keyboardJS,exports.KeyboardJS=KeyboardJS,exports.Locale=Locale,exports.KeyCombo=KeyCombo;
},{"./lib/key-combo":2,"./lib/keyboard":3,"./lib/locale":4,"./locales/us":5}],2:[function(require,module,exports){
function KeyCombo(o){var e=this;e.sourceStr=o,e.subCombos=KeyCombo.parseComboStr(o),e.keyNames=e.subCombos.reduce(function(o,e){return o.concat(e)})}KeyCombo.sequenceDeliminator=">>",KeyCombo.comboDeliminator=">",KeyCombo.keyDeliminator="+",KeyCombo.parseComboStr=function(o){for(var e=KeyCombo._splitStr(o,KeyCombo.comboDeliminator),r=[],t=0;t<e.length;t+=1)r.push(KeyCombo._splitStr(e[t],KeyCombo.keyDeliminator));return r},KeyCombo.prototype.check=function(o){for(var e=this,r=0,t=0;t<e.subCombos.length;t+=1)if(r=e._checkSubCombo(e.subCombos[t],r,o),-1===r)return!1;return!0},KeyCombo.prototype.isEqual=function(o){var e=this;if("string"==typeof o&&(o=new KeyCombo(o)),e.subCombos.length!==o.subCombos.length)return!1;for(var r=0;r<e.subCombos.length;r+=1)if(e.subCombos[r].length!==o.subCombos[r].length)return!1;for(var r=0;r<e.subCombos.length;r+=1){for(var t=e.subCombos[r],b=o.subCombos[r].slice(0),n=0;n<t.length;n+=1){var m=t[n],s=b.indexOf(m);s>-1&&b.splice(s,1)}if(0!==b.length)return!1}return!0},KeyCombo._splitStr=function(o,e){for(var r=o,t=e,b="",n=[],m=0;m<r.length;m+=1)m>0&&r[m]===t&&"\\"!==r[m-1]&&(n.push(b.trim()),b="",m+=1),b+=r[m];return b&&n.push(b.trim()),n},KeyCombo.prototype._checkSubCombo=function(o,e,r){o=o.slice(0),r=r.slice(e);for(var t=e,b=0;b<o.length;b+=1){var n=o[b];if("\\"===n[0]){var m=n.slice(1);(m===KeyCombo.comboDeliminator||m===KeyCombo.keyDeliminator)&&(n=m)}var s=r.indexOf(n);if(s>-1&&(o.splice(b,1),b-=1,s>t&&(t=s),0===o.length))return t}return-1},module.exports=KeyCombo;
},{}],3:[function(require,module,exports){
(function(e){function t(){var e=this;e.locale=null,e._currentContext=null,e._contexts={},e._listeners=[],e._appliedListeners=[],e._locales={},e._targetDocument=null,e._targetWindow=null,e.setContext("default"),e.watch()}var n=require("./locale"),r=require("./key-combo");t.prototype.setLocale=function(e,t){var r=this,o=null;"string"==typeof e?t?(o=new n(e),t(o)):o=r._locales[e]||null:(o=e,e=o.localeName),r.locale=o,r._locales[e]=o,o&&(r.locale.pressedKeys=o.pressedKeys)},t.prototype.getLocale=function(e){var t=this;return e||(e=t.locale.localeName),t._locales[e]||null},t.prototype.bind=function(e,t,n){var o=this;if("string"==typeof e)o._listeners.push({keyCombo:new r(e),pressHandler:t||null,releaseHandler:n||null,preventRepeat:!1});else for(var s=0;s<e.length;s+=1)o.bind(e[s],t,n)},t.prototype.addListener=t.prototype.bind,t.prototype.on=t.prototype.bind,t.prototype.unbind=function(e,t,n){var r=this;if("string"==typeof e)for(var o=0;o<r._listeners.length;o+=1){var s=r._listeners[o],l=s.keyCombo.isEqual(e),i=!t||t===s.pressHandler,a=null===s.releaseHandler||n===s.releaseHandler;l&&i&&a&&(r._listeners.splice(o,1),o-=1)}else for(var o=0;o<e.length;o+=1)r.bind(e[o],t,n)},t.prototype.removeListener=t.prototype.unbind,t.prototype.off=t.prototype.unbind,t.prototype.setContext=function(e){var t=this;t.locale&&t.releaseAllKeys(),t._contexts[e]||(t._contexts[e]=[]),t._listeners=t._contexts[e],t._currentContext=e},t.prototype.getContext=function(){var e=this;return e._currentContext},t.prototype.watch=function(t,n){var r=this;r.stop(),t&&t.document&&!n&&(n=t,t=null),n||(n=e.window),n&&!t&&(t=n.document),t&&n&&(r._isModernBrowser=!!n.addEventListener,r._bindEvent(t,"keydown",function(e){r.pressKey(e.keyCode,e)}),r._bindEvent(t,"keyup",function(e){r.releaseKey(e.keyCode,e)}),r._bindEvent(n,"focus",r.releaseAllKeys.bind(r)),r._bindEvent(n,"blur",r.releaseAllKeys.bind(r)),r._targetDocument=t,r._targetWindow=n)},t.prototype.stop=function(){var e=this;e._targetDocument&&(e._unbindEvent(e._targetDocument,"keydown",function(t){e.pressKey(t.keyCode,t)}),e._unbindEvent(e._targetDocument,"keyup",function(t){e.releaseKey(t.keyCode,t)}),e._targetDocument=null),e._targetWindow&&(e._unbindEvent(e._targetWindow,"focus",e.releaseAllKeys.bind(e)),e._unbindEvent(e._targetWindow,"blur",e.releaseAllKeys.bind(e)),e._targetWindow=null)},t.prototype.pressKey=function(e,t){var n=this;n.locale.pressKey(e),n._applyBindings(t)},t.prototype.releaseKey=function(e,t){var n=this;n.locale.releaseKey(e),n._clearBindings(t)},t.prototype.releaseAllKeys=function(){var e=this;e.locale.pressedKeys.length=0,e._clearBindings()},t.prototype.reset=function(){var e=this;e.releaseAllKeys(),e._listeners.length=0},t.prototype._bindEvent=function(e,t,n){var r=this;return r._isModernBrowser?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.prototype._unbindEvent=function(e,t,n){var r=this;return r._isModernBrowser?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.prototype._getGroupedListeners=function(){var e=this,t=[],n=[];return e._listeners.slice(0).sort(function(e,t){return e.keyCombo.keyNames.length>t.keyCombo.keyNames.length}).forEach(function(e){for(var r=-1,o=0;o<n.length;o+=1)n[o].isEqual(e.keyCombo)&&(r=o);-1===r&&(r=n.length,n.push(e.keyCombo)),t[r]||(t[r]=[]),t[r].push(e)}),t},t.prototype._applyBindings=function(e){var t=this;e||(e={});var n=!1;e.preventRepeat=function(){n=!0};for(var r=t.locale.pressedKeys.slice(0),o=t._getGroupedListeners(),s=0;s<o.length;s+=1){var l=o[s],i=l[0].keyCombo;if(i.check(r)){for(var a=0;a<l.length;a+=1){var p=l[a],d=p.pressHandler;d&&!p.preventRepeat&&(d.call(t,e),n&&(p.preventRepeat=n,n=!1)),p.releaseHandler&&-1===t._appliedListeners.indexOf(p)&&t._appliedListeners.push(p)}for(var a=0;a<i.keyNames.length;a+=1){var u=r.indexOf(i.keyNames[a]);-1!==u&&(r.splice(u,1),a-=1)}}}},t.prototype._clearBindings=function(e){var t=this;e||(e={});for(var n=0;n<t._appliedListeners.length;n+=1){var r=t._appliedListeners[n],o=r.keyCombo,s=r.releaseHandler;o.check(t.locale.pressedKeys)||(r.preventRepeat=!1,s.call(t,e),t._appliedListeners.splice(n,1),n-=1)}},module.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{"./key-combo":2,"./locale":4}],4:[function(require,module,exports){
function Locale(e){var s=this;s.localeName=e,s.pressedKeys=[],s._appliedMacros=[],s._keyMap={},s._macros=[]}var KeyCombo=require("./key-combo");Locale.prototype.bindKeyCode=function(e,s){var r=this;"string"==typeof s&&(s=[s]),r._keyMap[e]=s},Locale.prototype.bindMacro=function(e,s){var r=this;"string"==typeof s&&(s=[s]);var o={keyCombo:new KeyCombo(e),keyNames:null,handler:null};"function"==typeof s?o.handler=s:o.keyNames=s,r._macros.push(o)},Locale.prototype.getKeyCodes=function(e){var s=this,r=[];for(var o in s._keyMap){var a=s._keyMap[o].indexOf(e);a>-1&&r.push(0|o)}return r},Locale.prototype.getKeyNames=function(e){var s=this;return s._keyMap[e]||[]},Locale.prototype.pressKey=function(e){var s=this;if("string"==typeof e)for(var r=s.getKeyCodes(e),o=0;o<r.length;o+=1)s.pressKey(r[o]);else{for(var a=s.getKeyNames(e),o=0;o<a.length;o+=1)-1===s.pressedKeys.indexOf(a[o])&&s.pressedKeys.push(a[o]);s._applyMacros()}},Locale.prototype.releaseKey=function(e){var s=this;if("string"==typeof e)for(var r=s.getKeyCodes(e),o=0;o<r.length;o+=1)s.releaseKey(r[o]);else{for(var a=s.getKeyNames(e),o=0;o<a.length;o+=1){var p=s.pressedKeys.indexOf(a[o]);p>-1&&s.pressedKeys.splice(p,1)}s._clearMacros()}},Locale.prototype._applyMacros=function(){for(var e=this,s=e._macros.slice(0),r=0;r<s.length;r+=1){var o=s[r],a=o.keyCombo,p=o.keyNames;if(a.check(e.pressedKeys)){for(var t=0;t<p.length;t+=1)-1===e.pressedKeys.indexOf(p[t])&&e.pressedKeys.push(p[t]);e._appliedMacros.push(o)}}},Locale.prototype._clearMacros=function(){for(var e=this,s=0;s<e._appliedMacros.length;s+=1){var r=e._appliedMacros[s],o=r.keyCombo,a=r.keyNames;if(!o.check(e.pressedKeys)){for(var p=0;p<a.length;p+=1){var t=e.pressedKeys.indexOf(a[p]);t>-1&&e.pressedKeys.splice(t,1)}e._appliedMacros.splice(s,1),s-=1}}},module.exports=Locale;
},{"./key-combo":2}],5:[function(require,module,exports){
var Locale=require("../lib/locale"),locale=new Locale("us");locale.bindKeyCode(3,["cancel"]),locale.bindKeyCode(8,["backspace"]),locale.bindKeyCode(9,["tab"]),locale.bindKeyCode(12,["clear"]),locale.bindKeyCode(13,["enter"]),locale.bindKeyCode(16,["shift"]),locale.bindKeyCode(17,["ctrl"]),locale.bindKeyCode(18,["alt","menu"]),locale.bindKeyCode(19,["pause","break"]),locale.bindKeyCode(20,["capslock"]),locale.bindKeyCode(27,["escape","esc"]),locale.bindKeyCode(32,["space","spacebar"]),locale.bindKeyCode(33,["pageup"]),locale.bindKeyCode(34,["pagedown"]),locale.bindKeyCode(35,["end"]),locale.bindKeyCode(36,["home"]),locale.bindKeyCode(37,["left"]),locale.bindKeyCode(38,["up"]),locale.bindKeyCode(39,["right"]),locale.bindKeyCode(40,["down"]),locale.bindKeyCode(41,["select"]),locale.bindKeyCode(42,["printscreen"]),locale.bindKeyCode(43,["execute"]),locale.bindKeyCode(44,["snapshot"]),locale.bindKeyCode(45,["insert","ins"]),locale.bindKeyCode(46,["delete","del"]),locale.bindKeyCode(47,["help"]),locale.bindKeyCode(91,["command","windows","win","super","leftcommand","leftwindows","leftwin","leftsuper"]),locale.bindKeyCode(92,["command","windows","win","super","rightcommand","rightwindows","rightwin","rightsuper"]),locale.bindKeyCode(145,["scrolllock","scroll"]),locale.bindKeyCode(186,["semicolon",";"]),locale.bindKeyCode(187,["equal","equalsign","="]),locale.bindKeyCode(188,["comma",","]),locale.bindKeyCode(189,["dash","-"]),locale.bindKeyCode(190,["period","."]),locale.bindKeyCode(191,["slash","forwardslash","/"]),locale.bindKeyCode(192,["graveaccent","`"]),locale.bindKeyCode(219,["openbracket","["]),locale.bindKeyCode(220,["backslash","\\"]),locale.bindKeyCode(221,["closebracket","]"]),locale.bindKeyCode(222,["apostrophe","'"]),locale.bindKeyCode(48,["zero","0"]),locale.bindKeyCode(49,["one","1"]),locale.bindKeyCode(50,["two","2"]),locale.bindKeyCode(51,["three","3"]),locale.bindKeyCode(52,["four","4"]),locale.bindKeyCode(53,["five","5"]),locale.bindKeyCode(54,["six","6"]),locale.bindKeyCode(55,["seven","7"]),locale.bindKeyCode(56,["eight","8"]),locale.bindKeyCode(57,["nine","9"]),locale.bindKeyCode(96,["numzero","num0"]),locale.bindKeyCode(97,["numone","num1"]),locale.bindKeyCode(98,["numtwo","num2"]),locale.bindKeyCode(99,["numthree","num3"]),locale.bindKeyCode(100,["numfour","num4"]),locale.bindKeyCode(101,["numfive","num5"]),locale.bindKeyCode(102,["numsix","num6"]),locale.bindKeyCode(103,["numseven","num7"]),locale.bindKeyCode(104,["numeight","num8"]),locale.bindKeyCode(105,["numnine","num9"]),locale.bindKeyCode(106,["nummultiply","num*"]),locale.bindKeyCode(107,["numadd","num+"]),locale.bindKeyCode(108,["numenter"]),locale.bindKeyCode(109,["numsubtract","num-"]),locale.bindKeyCode(110,["numdecimal","num."]),locale.bindKeyCode(111,["numdivide","num/"]),locale.bindKeyCode(144,["numlock","num"]),locale.bindKeyCode(112,["f1"]),locale.bindKeyCode(113,["f2"]),locale.bindKeyCode(114,["f3"]),locale.bindKeyCode(115,["f4"]),locale.bindKeyCode(116,["f5"]),locale.bindKeyCode(117,["f6"]),locale.bindKeyCode(118,["f7"]),locale.bindKeyCode(119,["f8"]),locale.bindKeyCode(120,["f9"]),locale.bindKeyCode(121,["f10"]),locale.bindKeyCode(122,["f11"]),locale.bindKeyCode(123,["f12"]),locale.bindMacro("shift + `",["tilde","~"]),locale.bindMacro("shift + 1",["exclamation","exclamationpoint","!"]),locale.bindMacro("shift + 2",["at","@"]),locale.bindMacro("shift + 3",["number","#"]),locale.bindMacro("shift + 4",["dollar","dollars","dollarsign","$"]),locale.bindMacro("shift + 5",["percent","%"]),locale.bindMacro("shift + 6",["caret","^"]),locale.bindMacro("shift + 7",["ampersand","and","&"]),locale.bindMacro("shift + 8",["asterisk","*"]),locale.bindMacro("shift + 9",["openparen","("]),locale.bindMacro("shift + 0",["closeparen",")"]),locale.bindMacro("shift + -",["underscore","_"]),locale.bindMacro("shift + =",["plus","+"]),locale.bindMacro("shift + [",["opencurlybrace","opencurlybracket","{"]),locale.bindMacro("shift + ]",["closecurlybrace","closecurlybracket","}"]),locale.bindMacro("shift + \\",["verticalbar","|"]),locale.bindMacro("shift + ;",["colon",":"]),locale.bindMacro("shift + '",["quotationmark","'"]),locale.bindMacro("shift + !,",["openanglebracket","<"]),locale.bindMacro("shift + .",["closeanglebracket",">"]),locale.bindMacro("shift + /",["questionmark","?"]);for(var keyCode=65;90>=keyCode;keyCode+=1){var keyName=String.fromCharCode(keyCode+32),capitalKeyName=String.fromCharCode(keyCode);locale.bindKeyCode(keyCode,keyName),locale.bindMacro("shift + "+keyName,capitalKeyName),locale.bindMacro("capslock + "+keyName,capitalKeyName)}module.exports=locale;
},{"../lib/locale":4}]},{},[1])(1)
});